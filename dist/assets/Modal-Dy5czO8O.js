import{i as b,k as w,c as n,o as r,a as o,x as p,p as v,F as f,r as x,g as m,t as g}from"./index-DB3DdxWr.js";async function k(){try{const e=await b.get("/api/modules");if(e.status==200)return await e.data}catch(e){console.error("Caught error:",e)}}async function C(){try{const e=await b.get("/api/courses");if(e.status==200)return await e.data}catch(e){console.error("Caught error:",e)}}async function z(){try{const e=await b.get("/api/topics");if(e.status==200)return e.data}catch(e){console.error("Caught error:",e)}}const I={class:"fixed z-[2000] inset-0 bg-opacity-50 flex items-start justify-center overflow-auto py-8"},M={class:"bg-white rounded-xl w-[90%] max-w-lg shadow-2xl max-h-[600px] overflow-y-auto"},j={class:"flex justify-between items-center px-6 py-5 border-b border-gray-200"},B={class:"p-6"},D=["for"],E=["id","type","placeholder","value","onInput"],F={key:2,class:"mt-3"},N=["for"],S=["onInput","value"],A=["id","value"],V={class:"flex justify-end gap-3 mt-6"},L={__name:"Modal",props:["fields"],emits:["update","close","submit"],setup(e,{emit:i}){const u=e,l=i;function h(s,a){l("update",s,a.target.value)}function y(){l("close",!0)}function _(){const s=new FormData;u.fields.forEach(a=>s.append(a.name,a.res)),l("submit",s)}return w(()=>{u.fields.forEach(async s=>{switch(s.name){case"courseId":const a=await C();s.options=a;break;case"moduleId":const t=await k();s.options=t;break}})}),(s,a)=>(r(),n("div",I,[o("div",M,[o("div",j,[a[0]||(a[0]=o("h3",{class:"text-lg font-semibold text-gray-800"},"Add New Course",-1)),o("button",{class:"text-gray-400 hover:text-gray-700 text-2xl font-bold",onClick:p(y,["prevent"])}," Ã— ")]),o("div",B,[o("form",null,[o("div",null,[v(s.$slots,"default")]),(r(!0),n(f,null,x(u.fields,(t,d)=>(r(),n("div",{key:d,class:"mb-5"},[t.type!="select"?(r(),n("label",{key:0,for:t.name,class:"block mb-2 font-medium text-gray-700"},g(t.name),9,D)):m("",!0),t.type!=="select"?(r(),n("input",{key:1,id:t.name,type:t.type||"text",placeholder:t.placeholder,value:t.res,onInput:c=>h(d,c),required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,40,E)):m("",!0),(t==null?void 0:t.type)=="select"?(r(),n("div",F,[o("label",{for:t.name,class:"block mb-2 font-medium text-gray-700"},g(t.name),9,N),o("select",{onInput:c=>h(d,c),value:t.res,class:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-500"},[(r(!0),n(f,null,x(t.options,c=>(r(),n("option",{id:c.id,value:c.id},g(c.title),9,A))),256))],40,S)])):m("",!0)]))),128)),o("div",V,[o("button",{onClick:p(_,["prevent"]),class:"bg-indigo-500 text-white px-5 py-2 rounded hover:bg-indigo-600 transition"}," Add "),o("button",{onClick:p(y,["prevent"]),class:"bg-indigo-500 text-white px-5 py-2 rounded hover:bg-indigo-600 transition"}," Cancel ")])])])])]))}};export{L as _,k as a,z as b,C as f};
