import{d as l,e as L,B as N,y as S,m as M,h as R,c as h,o as n,a as t,b as C,u as H,k as d,t as _,j as b,i as w,w as k,l as P,M as $,g as j}from"./index-luTevwiG.js";import{m as y}from"./marked.esm-DKjyhwJX.js";import{H as i}from"./github-dark-CjfJ7tBG.js";import{_ as A}from"./ModuleList-nys6l9HM.js";import"./_commonjsHelpers-D6-XlEtG.js";const E={key:0,class:"min-h-screen bg-white"},O={class:"container max-w-6xl mx-auto px-4"},q={class:"grid grid-cols-1 md:grid-cols-3 gap-6 lg:gap-10 items-start"},D={class:"hidden md:block sticky top-0 left-0 max-h-screen overflow-auto"},G={class:"md:col-span-2"},J={class:"text-lg mb-4 text-blue-800 font-semibold border-b"},U={class:"text-2xl mb-4 font-semibold"},z={class:"mb-6"},F={class:"relative w-full aspect-[16/9]"},K=["src"],Q=["innerHTML"],W={class:"flex flex-col sm:flex-row justify-between gap-4 mt-6"},X={key:1},se={__name:"TopicPage",props:["id"],setup(u){y.setOptions({highlight(o,e){return e&&i.getLanguage(e)?i.highlight(o,{language:e}).value:i.highlightAuto(o).value},langPrefix:"hljs language-"});const T=u,a=l([]),m=l([]),I=L(),p=N(),r=l(null),c=l(null);S(()=>p.params.id,(o,e)=>{g(),x(o)});async function x(o=p.params.id){const s=j().topics,f=Number(o),v=s.indexOf(f),V=v+1,B=v-1;r.value=s[V],c.value=s[B]}async function g(){const o=await P.get(`/api/student/topic?topicId=${T.id}`);a.value=o.data.topic,m.value=y.parse(o.data.topic.content),await $(),document.querySelectorAll("pre code").forEach(e=>{i.highlightElement(e)})}return M(async()=>{g(),x()}),(o,e)=>{const s=R("RouterLink");return a.value?(n(),h("div",E,[t("div",O,[t("div",q,[t("div",D,[C(A,{currentTopicId:u.id},null,8,["currentTopicId"])]),t("div",G,[t("button",{onClick:e[0]||(e[0]=f=>H(I).go(-1)),class:"text-blue-500 mb-5 font-bold"},e[1]||(e[1]=[t("i",{class:"ri-arrow-left-line"},null,-1),d(" Go Back ")])),t("div",J," Module: "+_(a.value.module_title),1),t("div",U,_(a.value.title),1),t("div",z,[e[2]||(e[2]=t("div",{class:"font-bold mb-2"},"Recommended Video:",-1)),t("div",F,[t("iframe",{class:"absolute top-0 left-0 w-full h-full border-0",src:`https://www.youtube.com/embed/${a.value.video}`,allowfullscreen:""},null,8,K)])]),t("div",{innerHTML:m.value,class:"prose prose-sm sm:prose md:prose-lg max-w-none overflow-x-auto"},null,8,Q),t("div",W,[c.value?(n(),b(s,{key:0,to:{name:"topic",params:{id:c.value}},class:"bg-black px-4 py-2 text-white rounded shadow-xl text-lg text-center"},{default:k(()=>e[3]||(e[3]=[t("i",{class:"ri-arrow-left-double-line"},null,-1),d(" Prev ")])),_:1,__:[3]},8,["to"])):w("",!0),r.value?(n(),b(s,{key:1,to:{name:"topic",params:{id:r.value}},class:"bg-black px-4 py-2 text-white rounded shadow-xl text-lg text-center"},{default:k(()=>e[4]||(e[4]=[d(" Next "),t("i",{class:"ri-arrow-right-double-line"},null,-1)])),_:1,__:[4]},8,["to"])):w("",!0)])])])])])):(n(),h("div",X," Loading... "))}}};export{se as default};
