import{a as r,f as C,_}from"./Modal-Dy5czO8O.js";import{d as e,f as y,k as w,j as g,c as h,o as i,a as u,s as M,g as k,b as x,n as T,i as d}from"./index-DB3DdxWr.js";const U={__name:"ModulePage",setup(j){e([]);const s=e([]),m=e([]);e([]),e([]);const a=e(!1),l=y();w(async()=>{s.value=await r(),console.log(s.value),m.value=await C()});const c=e([{name:"title",placeholder:"Enter module Title",res:"",type:"text"},{name:"courseId",placeholder:"Select Course Title",res:"",type:"select",options:{}}]);async function f(t){d.delete(`/api/admin/modules/${t}`),s.value=await r()}function p(t,o){c.value[t].res=o}async function v(t){const o=Object.fromEntries(t);try{if((await d.post("/api/admin/modules",o,{headers:{"Content-Type":"application/json"}})).status!==201)throw new Error("Unable to create Module");a.value=!1,l.success("Module Created Successfully..."),s.value=await r()}catch{l.error("Unable to create Module...")}}function b(){a.value=!1}return(t,o)=>{const n=g("CategorizedTable");return i(),h("div",null,[u("div",null,[a.value?(i(),M(_,{key:0,fields:c.value,onUpdate:p,onClose:b,onSubmit:v},null,8,["fields"])):k("",!0)]),u("div",{class:T([a.value?"blur":""])},[u("button",{onClick:o[0]||(o[0]=B=>a.value=!a.value),class:"bg-blue-500 py-2 text-white block col-start-2 ms-auto w-[200px] rounded"},"Add module"),x(n,{onDelete:f,items:s.value},null,8,["items"])],2)])}}};export{U as default};
