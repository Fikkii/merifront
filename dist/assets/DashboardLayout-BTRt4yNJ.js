import{_ as x,c as u,o as l,a as e,F as g,r as y,b as s,w as a,n as w,t as k,u as v,R as j,d as C,e as S,f as P,g as N,h,i as b,j as E,k as c,l as T,T as V}from"./index-CJwAv-gi.js";import{_ as D}from"./logo-BMUeAq7L.js";const B={class:"sticky bg-white flex gap-3 items-center justify-evenly py-7 border-t shadow-2xl border-gray-500 h-7 w-screen bottom-0 left-0"},I={class:"flex items-center justify-evenly w-full"},H={class:"text-gray-500 text-sm"},z={__name:"DashNav",setup(p){const r=[{title:"Home",name:"dashboard-home",icon:"ri-home-line"},{title:"Course",name:"learning",icon:"ri-donut-chart-line"},{title:"Ebook",name:"ebooks",icon:"ri-book-shelf-line"},{title:"profile",name:"profile",icon:"ri-user-line"}];return(f,d)=>(l(),u("div",B,[e("div",I,[(l(),u(g,null,y(r,n=>s(v(j),{to:{name:n.name},class:"text-2xl flex flex-col items-center"},{default:a(()=>[e("i",{class:w([n.icon])},null,2),e("span",H,k(n.title),1)]),_:2},1032,["to"])),64))])]))}},F=x(z,[["__scopeId","data-v-e1bf2831"]]),O={class:"sticky z-999 top-0 left-0 bg-white py-3 px-4 flex justify-between relative items-center"},q={key:0,class:"bg-white translate-y-[100%] rounded shadow-2xl w-40 absolute bottom-0 right-0"},J={class:"flex rounded flex-col justify-stretch"},M={__name:"Header",setup(p){const r=C(!1),f=S(),d=P(),_=N().role,m=()=>{r.value=!r.value};function L(){localStorage.removeItem("jwt-token"),localStorage.removeItem("user-role"),f.push({name:"login"})}async function R(){try{const o=await T.get("/api/student/me");if(o.status==200)return(await o.data).email;throw d.error("Server Error, Please contact support"),new Error(data.error)}catch(o){console.error("Caught error:",o)}}async function $(){try{const o=await R(),t=await fetch("https://apigateway.merilearn.com.ng/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o})}),i=await t.json();if(t.ok)d.success("Password reset link sent, Check your email");else throw new Error(i.error)}catch(o){d.error(o.message)}}return(o,t)=>{const i=h("RouterLink");return l(),u("header",O,[r.value?(l(),u("div",q,[e("div",J,[s(i,{to:{name:"profile"},class:"block text-center w-full p-2 border-b border-gray-200"},{default:a(()=>t[0]||(t[0]=[e("i",{class:"ri-user-2-line text-lg mr-3"},null,-1),c("Profile")])),_:1,__:[0]}),v(_)!=="student"?(l(),E(i,{key:0,to:{name:"role"},class:"block text-center w-full p-2 border-b border-gray-200"},{default:a(()=>t[1]||(t[1]=[e("i",{class:"ri-restart-line text-lg mr-3"},null,-1),c("Switch Role")])),_:1,__:[1]})):b("",!0),e("button",{onClick:$,to:{name:"home"},class:"w-full p-2 border-b border-gray-200 mr-3"},t[2]||(t[2]=[e("i",{class:"ri-key-2-line text-lg"},null,-1),c(" Change Password")])),e("button",{onClick:L,class:"w-full p-2 border-b border-gray-200"},t[3]||(t[3]=[e("i",{class:"ri-logout-box-line text-lg mr-3"},null,-1),c(" Logout")]))])])):b("",!0),s(i,{to:{name:"dashboard-home"},class:"flex flex-col items-center"},{default:a(()=>[s(i,{to:{name:"dashboard-home"},class:"text-2xl font-bold text-blue-600 flex gap-2"},{default:a(()=>t[4]||(t[4]=[e("img",{width:"30",src:D},null,-1),c(" Merilearn")])),_:1,__:[4]})]),_:1}),e("div",{class:"text-right block"},[e("button",{onClick:m},t[5]||(t[5]=[e("i",{class:"ri-menu-3-fill text-xl"},null,-1)]))])])}}},U={class:"min-h-screen max-w-screen flex flex-col bg-gray-50"},A={class:"flex-1"},G={class:"flex"},K={class:"hidden md:block sticky top-10 left-0 max-h-screen overflow-auto"},Q={class:"w-60 bg-white/50 rounded-lg m-2 mt-8 flex gap-1 flex-col"},W={__name:"DashboardLayout",setup(p){S();const r=[{title:"Home",name:"dashboard-home",icon:"ri-home-line"},{title:"Course",name:"learning",icon:"ri-donut-chart-line"},{title:"Chat",name:"chat",icon:"ri-quill-pen-ai-line"},{title:"Peer",name:"peer",icon:"ri-user-community-line"},{title:"Ebook",name:"ebooks",icon:"ri-book-shelf-line"},{title:"profile",name:"profile",icon:"ri-user-line"},{title:"community",name:"community",icon:"ri-link"}];return C(!0),(f,d)=>{const n=h("RouterLink"),_=h("RouterView");return l(),u("div",U,[s(M),e("div",A,[e("div",G,[e("div",K,[e("div",Q,[(l(),u(g,null,y(r,m=>s(n,{to:{name:m.name},class:"px-6 flex gap-6 hover:bg-blue-300 items-center py-4 border-l-[5px] border-blue-500 font-bold"},{default:a(()=>[e("i",{class:w([m.icon,"text-xl"])},null,2),c(" "+k(m.title),1)]),_:2},1032,["to"])),64))])]),s(V,{name:"fade-slide",mode:"out-in"},{default:a(()=>[s(_,{class:"flex-1 px-6 py-12"})]),_:1})])]),s(F,{class:"md:hidden"})])}}},Z=x(W,[["__scopeId","data-v-934b8a73"]]);export{Z as default};
