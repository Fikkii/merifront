import{f as T,d as l,y as j,m as L,l as f,h as B,c as n,o as a,a as t,k as d,F as p,r as x,n as m,t as u,j as g,w,i as P,g as S}from"./index-CJwAv-gi.js";const E={class:"w-full md:max-w-80 bg-white border-r border-gray-200 h-full overflow-y-auto p-4"},I=["open"],M={class:"cursor-pointer px-3 py-2 font-semibold border-b text-gray-700 flex justify-between items-center"},N={class:"flex items-center gap-2"},V={class:"text-xs text-gray-400 truncate max-w-[120px]"},A={class:"px-3 pb-2 pt-1 space-y-1"},D={class:"flex items-center gap-2 truncate"},F={class:"flex-1 min-w-0"},R={class:"truncate"},z={__name:"ModuleList",props:["currentTopicId"],setup(h){T();const b=l("");l("");const y=l(""),v=l("");l(""),l(""),j(v,()=>{fetchDetails()}),L(()=>k());function _(s){const e=S(),i=[];s.modules.forEach(o=>{o.topics.forEach(c=>{i.push(c.id)})}),e.setTopics(i)}async function k(){try{const s=await f.get("/api/student/course");if(s.status==200){const e=await s.data;b.value=e.course,_(e.course),C()}}catch(s){console.error("Caught error:",s)}}async function C(){try{const s=await f.get("/api/projects");y.value=s.data,console.log(s.data)}catch(s){console.error("Caught error:",s)}}return(s,e)=>{const i=B("RouterLink");return a(),n("aside",E,[e[6]||(e[6]=t("h2",{class:"text-xl font-bold mb-3 flex items-center gap-2 text-gray-800"},[t("i",{class:"ri-road-map-line text-blue-500"}),d(" Learning Path ")],-1)),e[7]||(e[7]=t("p",{class:"text-sm text-gray-500 mb-4"}," Select a module to continue learning. ",-1)),(a(!0),n(p,null,x(b.value.modules,(o,c)=>(a(),n("details",{key:o.id,open:o.active&&c===0,class:m(["mb-2 rounded border text-sm transition",o.active===0?"opacity-50 pointer-events-none select-none":"bg-gray-50 hover:bg-gray-100"])},[t("summary",M,[t("span",N,[e[0]||(e[0]=t("i",{class:"ri-folder-3-line text-blue-500"},null,-1)),d(" Module "+u(c+1),1)]),t("span",V,u(o.title),1)]),t("div",A,[(a(!0),n(p,null,x(o.topics,r=>(a(),g(i,{key:r.id,to:{name:"topic",params:{id:r.id}},class:m(["flex items-center justify-between rounded px-2 py-1.5 transition hover:bg-blue-100",{"bg-blue-200 font-semibold text-blue-900":r.id===h.currentTopicId}])},{default:w(()=>[t("span",D,[e[1]||(e[1]=t("i",{class:"ri-book-open-line text-blue-500 text-base"},null,-1)),t("div",null,[t("i",{class:m([r.is_completed?"ri-checkbox-circle-fill text-green-500":"ri-checkbox-blank-circle-line text-gray-500"])},null,2),d(u(r.title),1)])]),e[2]||(e[2]=t("i",{class:"ri-arrow-right-s-line text-blue-700 text-base"},null,-1))]),_:2,__:[2]},1032,["to","class"]))),128)),(a(!0),n(p,null,x(y.value,r=>(a(),n("div",{key:r.id},[r.module_id===o.id?(a(),g(i,{key:0,to:{name:"project",params:{id:r.id}},class:"flex items-start gap-2 bg-yellow-50 hover:bg-yellow-100 border-l-4 border-yellow-500 rounded px-3 py-2 text-yellow-800 font-medium transition"},{default:w(()=>[e[4]||(e[4]=t("i",{class:"ri-medal-2-line text-xl pt-1 text-yellow-500 shrink-0"},null,-1)),t("div",F,[e[3]||(e[3]=t("div",{class:"uppercase text-xs tracking-wide text-yellow-600 mb-1 font-semibold"}," Capstone Project ",-1)),t("div",R,u(r.title),1)]),e[5]||(e[5]=t("i",{class:"ri-arrow-right-s-line text-yellow-700 mt-1 shrink-0"},null,-1))]),_:2,__:[4,5]},1032,["to"])):P("",!0)]))),128))])],10,I))),128))])}}};export{z as _};
