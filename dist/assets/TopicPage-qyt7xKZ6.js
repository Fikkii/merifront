import{d as i,e as N,B as R,y as j,m as H,h as P,c as T,o as a,a as e,u as $,k as n,n as c,t as r,j as x,i as C,w as I,l as M,M as A,g as E}from"./index-CJwAv-gi.js";import{m as B}from"./marked.esm-DKjyhwJX.js";import{H as d}from"./github-dark-CjfJ7tBG.js";import{_ as O}from"./ModuleList-BiSCmF1o.js";import"./_commonjsHelpers-D6-XlEtG.js";const q={key:0,class:"min-h-screen bg-white"},z={class:"container max-w-6xl mx-auto px-4"},D={class:"grid grid-cols-1 md:grid-cols-3 gap-6 lg:gap-10 items-start"},G={class:"md:col-span-2"},J={class:"flex gap-2 justify-between items-center rounded mb-6"},U={class:"text-lg mb-4 text-blue-800 font-semibold border-b"},F={class:"text-2xl mb-4 font-semibold"},K={class:"mb-6"},Q={class:"relative w-full aspect-[16/9]"},W=["src"],X=["innerHTML"],Y={class:"flex flex-wrap justify-between gap-4 mt-6"},Z={class:"hidden md:block sticky top-0 left-0 max-h-screen overflow-auto"},ee={key:1},ae={__name:"TopicPage",props:["id"],setup(v){B.setOptions({highlight(s,t){return t&&d.getLanguage(t)?d.highlight(s,{language:t}).value:d.highlightAuto(s).value},langPrefix:"hljs language-"});const g=v,o=i([]),h=i([]),L=N(),b=R(),u=i(null),p=i(null),f=i(0);j(()=>b.params.id,(s,t)=>{m(),_(s),f.value++});async function _(s=b.params.id){const l=E().topics,w=Number(s),y=l.indexOf(w),S=y+1,V=y-1;u.value=l[S],p.value=l[V]}async function m(){const s=await M.get(`/api/student/topic?topicId=${g.id}`);o.value=s.data.topic,h.value=B.parse(s.data.topic.content),await A(),document.querySelectorAll("pre code").forEach(t=>{d.highlightElement(t)})}H(async()=>{m(),_()});async function k(){await M.post("/api/student/topic/complete",{topicId:g.id}),m()}return(s,t)=>{const l=P("RouterLink");return o.value?(a(),T("div",q,[e("div",z,[e("div",D,[e("div",G,[e("div",J,[e("button",{onClick:t[0]||(t[0]=w=>$(L).go(-1)),class:"text-blue-500 font-bold"},t[1]||(t[1]=[e("i",{class:"ri-arrow-left-line"},null,-1),n(" Go Back ")])),e("div",null,[e("button",{class:c(["px-6 py-3 rounded font-bold flex gap-1 items-center",[o.value.is_completed?"text-green-500 hover:text-text-600":"text-red-500 hover:text-red-600"]]),onClick:k},[e("i",{class:c([o.value.is_completed?"ri-checkbox-circle-fill":"ri-checkbox-blank-circle-line"])},null,2),n(r(o.value.is_completed?"completed":"Incomplete"),1)],2)])]),e("div",U," Module: "+r(o.value.module_title),1),e("div",F,r(o.value.title),1),e("div",K,[t[2]||(t[2]=e("div",{class:"font-bold mb-2"},"Recommended Video:",-1)),e("div",Q,[e("iframe",{class:"absolute top-0 left-0 w-full h-full border-0",src:`https://www.youtube.com/embed/${o.value.video}`,allowfullscreen:""},null,8,W)])]),e("div",{innerHTML:h.value,class:"prose prose-sm sm:prose md:prose-lg max-w-none overflow-x-auto"},null,8,X),e("div",Y,[p.value?(a(),x(l,{key:0,to:{name:"topic",params:{id:p.value}},class:"bg-black px-4 py-2 text-white rounded shadow-xl text-lg text-center"},{default:I(()=>t[3]||(t[3]=[e("i",{class:"ri-arrow-left-double-line"},null,-1),n(" Prev ")])),_:1,__:[3]},8,["to"])):C("",!0),u.value?(a(),x(l,{key:1,to:{name:"topic",params:{id:u.value}},class:"bg-black px-4 py-2 text-white rounded shadow-xl text-lg text-center"},{default:I(()=>t[4]||(t[4]=[n(" Next "),e("i",{class:"ri-arrow-right-double-line"},null,-1)])),_:1,__:[4]},8,["to"])):C("",!0)]),e("button",{class:c(["block ms-auto px-6 py-3 text-white rounded font-bold flex gap-1 items-center",[o.value.is_completed?"bg-green-500 hover:bg-green-600":"bg-blue-500 hover:bg-blue-600"]]),onClick:k},[e("i",{class:c([o.value.is_completed?"ri-checkbox-circle-fill":"ri-checkbox-blank-circle-line"])},null,2),n(r(o.value.is_completed?"Topic Completed":"Mark Complete"),1)],2)]),e("div",Z,[(a(),x(O,{key:f.value,currentTopicId:v.id},null,8,["currentTopicId"]))])])])])):(a(),T("div",ee," Loading... "))}}};export{ae as default};
