import{_ as m,c as n,o as l,a as e,F as b,r as w,b as i,w as y,n as v,t as k,u as C,R as j,d as f,e as p,f as N,g as S,h as u,i as L,j as P}from"./index-DB3DdxWr.js";import{_ as V}from"./logo-BMUeAq7L.js";const $={class:"sticky bg-white flex gap-3 items-center justify-evenly py-7 border-t shadow-2xl border-gray-500 h-7 w-screen bottom-0 left-0"},D={class:"flex items-center justify-evenly w-full"},E={class:"text-gray-500 text-sm"},R={__name:"DashNav",setup(d){const o=[{title:"Home",name:"dashboard-home",icon:"ri-home-line"},{title:"Course",name:"learning",icon:"ri-donut-chart-line"},{title:"Ebook",name:"ebooks",icon:"ri-book-shelf-line"},{title:"profile",name:"profile",icon:"ri-user-line"}];return(c,a)=>(l(),n("div",$,[e("div",D,[(l(),n(b,null,w(o,r=>i(C(j),{to:{name:r.name},class:"text-2xl flex flex-col items-center"},{default:y(()=>[e("i",{class:v([r.icon])},null,2),e("span",E,k(r.title),1)]),_:2},1032,["to"])),64))])]))}},I=m(R,[["__scopeId","data-v-e1bf2831"]]),T={class:"sticky z-999 top-0 left-0 bg-white py-3 px-4 flex justify-between relative items-center"},B={key:0,class:"bg-white translate-y-[100%] rounded shadow-2xl w-40 absolute bottom-0 right-0"},z={__name:"Header",setup(d){const o=f(!1),c=p(),a=N(),r=()=>{o.value=!o.value};function h(){localStorage.removeItem("jwt-token"),localStorage.removeItem("user-role"),c.push({name:"login"})}async function _(){try{const s=await L.get("/api/student/me");if(s.status==200)return(await s.data).email;throw a.error("Server Error, Please contact support"),new Error(data.error)}catch(s){console.error("Caught error:",s)}}async function g(){try{const s=await _(),t=await fetch("https://servmeri.fikki.com.ng/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s})}),x=await t.json();if(t.ok)a.success("Password reset link sent, Check your email");else throw new Error(x.error)}catch(s){a.error(s.message)}}return(s,t)=>(l(),n("header",T,[o.value?(l(),n("div",B,[e("div",{class:"flex rounded flex-col justify-stretch"},[e("button",{onClick:g,to:{name:"home"},class:"w-full p-2 border-b border-gray-200"},t[0]||(t[0]=[e("i",{class:"ri-key-2-line"},null,-1),u(" Change Password")])),e("button",{onClick:h,class:"w-full p-2 border-b border-gray-200"},t[1]||(t[1]=[e("i",{class:"ri-logout-box-line"},null,-1),u(" Logout")]))])])):S("",!0),t[3]||(t[3]=e("div",{class:"flex flex-col items-center"},[e("img",{class:"h-10 w-auto",src:V,alt:""}),u(" Merilearn ")],-1)),e("div",{class:"text-right block"},[e("button",{onClick:r},t[2]||(t[2]=[e("i",{class:"ri-menu-3-fill text-xl"},null,-1)]))])]))}},F={class:"min-h-screen flex flex-col bg-gray-50"},H={__name:"DashboardLayout",setup(d){return p(),f(!0),(o,c)=>{const a=P("RouterView");return l(),n("div",F,[i(z),i(a,{class:"flex-1 px-6 py-12"}),i(I)])}}},M=m(H,[["__scopeId","data-v-801d1f1c"]]);export{M as default};
