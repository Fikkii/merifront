import{d as i,m as k,c as g,o as v,a as e,k as m,p as j,v as B,q as L,F as I,r as A,n as b,t as y,l as x,h as $,b as p,s as F,w as S,x as V,y as W,u as E}from"./index-CJwAv-gi.js";import{C as N,p as O,a as P,b as U,B as R,c as Z,L as K,d as H,_ as J}from"./ProgressBar-tgCaJS5X.js";import{L as q}from"./Leaderboard-BEjsM62x.js";import"./EbookRecommender.vue_vue_type_style_index_0_scoped_ea196149_lang-l0sNRNKZ.js";const z={class:"bg-white h-full w-full shadow-lg rounded-xl p-6"},Y={class:"mb-6"},G={class:"space-y-3"},Q={class:"flex gap-4 text-sm"},X=["onClick","aria-label"],ee={key:0,xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2","aria-hidden":"true",focusable:"false"},te={key:1,xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 rotate-180",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2","aria-hidden":"true",focusable:"false"},se=["onClick"],ae={__name:"TodoCard",setup(f){const r=i(""),t=i([]),c="https://apigateway.merilearn.com.ng",u=async()=>{try{const o=await x.get(`${c}/api/todos`);t.value=o.data}catch(o){console.error("Failed to load tasks:",o)}},a=async()=>{const o=r.value.trim();if(o)try{const s=await x.post("/api/todos",{text:o});t.value.push(s.data),r.value=""}catch(s){console.error("Failed to add task:",s)}},w=async o=>{try{o.completed=!o.completed,await x.put(`${c}/api/todos/${o.id}`,{completed:o.completed})}catch(s){console.error("Failed to update task:",s)}},_=async o=>{try{await x.delete(`${c}/api/todos/${o}`),t.value=t.value.filter(s=>s.id!==o)}catch(s){console.error("Failed to delete task:",s)}};return k(u),(o,s)=>(v(),g("div",z,[s[5]||(s[5]=e("h2",{class:"text-sm font-bold border-b-2 text-green-700 mb-6 flex items-center justify-stretch gap-2"},[e("i",{class:"ri-list-check-3"}),m("ToDo ")],-1)),e("div",Y,[j(e("input",{"onUpdate:modelValue":s[0]||(s[0]=l=>r.value=l),type:"text",placeholder:"Add a new task...",class:"border w-full rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-300 transition",onKeydown:L(a,["enter"]),"aria-label":"New task input"},null,544),[[B,r.value]]),e("button",{onClick:a,class:"mt-2 ms-auto bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition flex items-center justify-center","aria-label":"Add task"},s[1]||(s[1]=[e("i",{class:"ri-add-line"},null,-1),m("Add Task ")]))]),e("ul",G,[(v(!0),g(I,null,A(t.value,l=>(v(),g("li",{key:l.id,class:"flex justify-between items-center bg-gray-50 p-3 rounded-lg shadow-sm"},[e("span",{class:b([{"line-through text-gray-400":l.completed},"text-base break-words max-w-[70%]"])},y(l.text),3),e("div",Q,[e("button",{onClick:h=>w(l),class:b([l.completed?"text-yellow-600":"text-green-600","flex items-center gap-1 hover:underline focus:outline-none"]),"aria-label":l.completed?"Undo completion":"Mark as done"},[l.completed?(v(),g("svg",te,s[3]||(s[3]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"},null,-1)]))):(v(),g("svg",ee,s[2]||(s[2]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"},null,-1)]))),m(" "+y(l.completed?"Undo":"Done"),1)],10,X),e("button",{onClick:h=>_(l.id),class:"text-red-500 hover:text-red-700 focus:outline-none","aria-label":"Delete task"},s[4]||(s[4]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false"},[e("path",{"fill-rule":"evenodd",d:"M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z","clip-rule":"evenodd"})],-1)]),8,se)])]))),128))])]))}},oe={class:"font-bold"},C={__name:"DescButton",props:["title","desc","to"],setup(f){return(r,t)=>{const c=$("RouterLink");return v(),g("div",{class:b(["flex justify-between items-center rounded px-8 py-4 shadow",r.$attrs.class])},[e("div",null,[e("div",oe,[F(r.$slots,"default"),m(" "+y(f.title),1)]),e("span",null,y(f.desc),1)]),p(c,{to:{name:f.to},class:"bg-indigo-500 px-4 py-2 text-white rounded shadow-lg"},{default:S(()=>t[0]||(t[0]=[m("Continue")])),_:1,__:[0]},8,["to"])],2)}}},le={class:"max-w-xl mx-auto p-4 space-y-4"},ne={class:"flex justify-between text-sm mt-4"},re={__name:"WeeklyTracker",setup(f){N.register(O,P,U,R,Z,K);const r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],t=i({}),c=i(0),u=i(0),a=i({labels:r,datasets:[{label:"Minutes Spent",backgroundColor:"#6366f1",data:Array(7).fill(0)}]}),w=i({responsive:!0,plugins:{legend:{position:"top"},title:{display:!1}}});function _(){const d=localStorage.getItem("weekly_durations");t.value=d?JSON.parse(d):{}}function o(){localStorage.setItem("weekly_durations",JSON.stringify(t.value))}function s(){t.value={},o(),l(),h()}function l(){a.value={...a.value,datasets:[{...a.value.datasets[0],data:r.map(d=>Math.round((t.value[d]||0)/60))}]}}function h(){const d=Object.values(t.value).reduce((M,T)=>M+T,0);c.value=Math.round(d/60);const n=Object.keys(t.value).length||1;u.value=Math.round(d/60/n)}function D(){const d=localStorage.getItem("last_reset_date"),n=new Date;n.getDay()===1&&d!==n.toDateString()&&(s(),localStorage.setItem("last_reset_date",n.toDateString()))}return k(()=>{_(),D(),l(),h();const d=setInterval(()=>{const n=r[new Date().getDay()];t.value[n]=(t.value[n]||0)+1,o(),l(),h()},1e3);window.addEventListener("beforeunload",o),V(()=>{clearInterval(d),o()})}),W(t,()=>{l(),h()},{deep:!0}),(d,n)=>(v(),g("div",le,[n[2]||(n[2]=e("h2",{class:"text-lg font-semibold"},[e("i",{class:"ri-timer-2-line"}),m("Time Spent (Weekly)")],-1)),p(E(H),{data:a.value,options:w.value},null,8,["data","options"]),e("div",ne,[e("span",null,[n[0]||(n[0]=m("Total this week: ")),e("strong",null,y(c.value)+" mins",1)]),e("span",null,[n[1]||(n[1]=m("Daily average: ")),e("strong",null,y(u.value)+" mins",1)])])]))}},ie={class:"w-full"},de={class:"flex flex-col md:grid md:grid-cols-6 gap-3"},ce={class:"col-span-4 flex flex-col gap-2 justify-between"},ue={class:"grid md:grid-cols-2 gap-2"},pe={class:"bg-white rounded p-4 shadow flex flex-col gap-3 justify-center items-center col-span-2"},me={class:"flex flex-wrap mt-6 gap-3"},ge={class:"min-w-20 bg-white md:min-w-130"},ve={class:"flex-1"},fe={class:"mt-10"},_e={__name:"HomePage",setup(f){i("programming"),i(!1);const r=i("");i([]),i([]);const t=i("");k(()=>{c()});const c=async()=>{try{const u=await x.get("/api/student/metrics"),a=await u.data;if(t.value=a,u.status!==200)throw new Error(a.error||"API Error")}catch(u){r.value=u.message}};return(u,a)=>{const w=$("Card");return v(),g("div",ie,[a[4]||(a[4]=e("div",{class:"mb-4 border-b-2 shadow-b-2xl border-indigo-500 pb-3"},[e("h3",{class:"font-bold text-lg"},"Welcome Back, User"),e("p",null,"This is your progress so far, Keep up the pace by completing some topics today")],-1)),e("div",de,[e("div",ce,[e("div",ue,[p(w,{icon:"fa-calendar",title:"Topic Completed",total:t.value.total_topic_completed},null,8,["total"]),p(w,{icon:"fa-briefcase",title:"Project Completed",total:t.value.total_evaluation||0},null,8,["total"])]),p(C,{title:"Current Course:",desc:t.value.course||"Click Continue to Enroll in a course",to:"learning",class:"bg-blue-100"},null,8,["desc"]),p(C,{title:"Learning with AI",desc:"Partner up with AI",to:"chat",class:"bg-orange-100"},{default:S(()=>a[0]||(a[0]=[e("i",{class:"ri-chat-ai-line"},null,-1)])),_:1,__:[0]})]),e("div",pe,[a[1]||(a[1]=e("h2",{class:"font-bold text-md self-start"},"Your MeriScore",-1)),p(J,{class:"h-35",percentage:t.value.average_score},null,8,["percentage"]),a[2]||(a[2]=e("span",null,[e("i",{class:"ri-golf-ball-fill text-orange-500"}),m("Project Completed")],-1))])]),e("div",me,[e("div",ge,[p(re)]),e("div",ve,[p(q)])]),e("div",fe,[a[3]||(a[3]=e("h2",{class:"font-semibold text-lg"},"Personal Development...",-1)),p(ae)])])}}};export{_e as default};
